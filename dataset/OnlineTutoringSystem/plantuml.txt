@startuml
' ===== Enums =====
enum LevelOfTutoring { 
 PrimarySchool
 HighSchool
 University 
}
enum SessionStatus { 
 Proposed 
 Confirmed
 Completed
 Paid
 Cancelled 
}
enum PaymentKind { 
 CreditCard
 WireTransfer
}

' ===== Classes =====
class OTS {}

class User {
    string name
    string email
}

class BestTutorAward {
    int year
    int month
}

class Tutor {
    string bankAccount
}

class TutoringOffer {
    float hourlyPrice
}

class Subject {
    string name
}

class TutorAvailability {
    Date startTime
    Time endTime
}

abstract class TutoringRole {}
abstract class TutoringElement {
    LevelOfTutoring tutoringLevel
}

class Student {}
class TutoringRequest {}
class TutoringSession {
    Date sessionDate
    float totalPrice
    SessionStatus sessionStatus
}
class Payment {
    PaymentKind paymentForm
    date paymentDate
}

' ===== Inheritance (per spec) =====
Tutor --|> TutoringRole
Student --|> TutoringRole
TutoringRequest --|> TutoringElement
TutoringOffer --|> TutoringElement

' ===== Containments / Compositions =====
OTS "1" *-- "*" Subject
OTS "1" *-- "*" User
OTS "1" *-- "*" BestTutorAward

Tutor "1" *-- "*" TutoringOffer
Tutor "1" *-- "*" TutorAvailability

User "1" *-- "0..2" TutoringRole : roles

Student "1" *-- "*" TutoringRequest

TutoringRequest "1" *-- "*" TutoringSession : allSessions
TutoringSession "1" *-- "0..1" Payment

' ===== Associations (non-owning) =====
Subject "1" -- "*" TutoringOffer
Subject "1" -- "*" TutoringRequest

' Offerâ€“Request: an offer may have many requests; each request refers to at most one offer
TutoringOffer "0..1" -- "*" TutoringRequest

' Session chaining
TutoringSession "1" --> "0..1" TutoringSession : nextSession
TutoringRequest "1" --> "0..1" TutoringSession : firstSession

' Awards given to tutors
Tutor "1" -- "*" BestTutorAward
@enduml